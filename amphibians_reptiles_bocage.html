<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Amphibians and reptiles in hedges landscapes of Deux-Sèvres</title>
    <meta charset="utf-8" />
    <meta name="author" content="Jean-Pierre Vacher" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link rel="stylesheet" href="slides-theme.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, title-slide

# Amphibians and reptiles in hedges landscapes of Deux-Sèvres
### Jean-Pierre Vacher
### last updated: 2022-03-03

---








class: inverse, center, middle
# Context

---
# Benefits of hedgerow landscape for species richness
Reptiles and amphibians are currently under threats that causes declines.
One of the main causes decline is loss of habitats, that is in part due to intensification of agricultural practices since ~60 years.

In such a context, we hypothesize that both groups are favored by extensive agricultural landscapes through heterogeneity of habitats characterized by linear structures (hedges, forest edges), ponds, pastures. Therefore, evolution of agricultural landscapes might be crucial for future conservation of these species.

* How current attributes at different scales (habitat vs. landscape) will influence species distribution?
* Will species richness and distribution be affected by changes of agricultural practices?

We predict that there is a correlation between species richness and distribution with density of linear landscape structures (hedges and forest edges, ponds), and that species richness will decrease in areas where linear structures decline.
We also predict different effects of variables according to the scale, with configuration variables having a strong effect at greater scales.

---
# Questions for today (3.3.2022)


### &lt;center&gt;Validate modelling approach for current distribution?&lt;/center&gt;
### &lt;center&gt;Which approach for modelling past distribution?&lt;/center&gt;
### &lt;center&gt;Which approach for modelling future distribution?&lt;/center&gt;


&lt;center&gt;
&lt;img src="figures/time_diagram.jpg" width="800px" /&gt;
&lt;/center&gt;

---
class: inverse, center, middle
# Current models

---
## Species data
We filtered 41 547 GPS-precise  data at a 100 m x 100 m pixel resolution to avoid oversampling (gathering of data at the same pond/hedges at different dates), which resulted in 20 019 points for 22 species.

.pull-left[

&lt;img src="figures/n_donnees_par_espece_reduced.jpg" width="400px" /&gt;

]

.pull-right[
&lt;img src="figures/plot_species_richness79.jpg" width="400px" /&gt;
]


---
## Environment variables

.pull-left[
#### 100 m grid
&lt;img src="figures/plot_raster_variables.jpg" width="400px" /&gt;
]

.pull-right[
#### 1000 m grid
&lt;img src="figures/plot_raster_variables_1K.jpg" width="400px" /&gt;
]

* Configuration variables: row 1 and row 2; density (m/ha) and distances (m).

* Composition variables: row 3; percentage of land use.
---

## Procedure of variables selection


### Test of multicollinearity

Pearson's index (_virtualspecies_)

&lt;center&gt;

&lt;img src="figures/multicollinearity.jpg" width="450px" /&gt;

&lt;/center&gt;

---

### GLM

* I performed two glms for each species: 
  + one GLM with all variables, 
  + second GLM with significant variables from previous

* Selection of best model with AIC

---
Table 1: Variables selection for each species based on AIC values from GLM procedure 100m squares
&lt;center&gt;

&lt;img src="figures/bilan_variables_especes.jpg" width="900px" /&gt;

&lt;/center&gt;

---
## Biomod2

### Algorithms to be tested

* GLM
* GAM
* RF
* GBM
* MARS
* FDA


---
class: inverse, center, middle
# Past models

---

# how to model past agricultural landscape? 
We have a data base of hedges (linear vector layer) from 1950 and 2020 in 31 1km-radius samples across the department. Comparison of these data sets show that there is a significant decline in hedges density during this period, and that there is a differentiated effect between the north and the south, with a sharper decline in the south.

* How can we use this data set to interpolate to the whole department?

* Is it relevant to use these data at a finer resolution (100 m x 100 m)?

.pull-left[

### &lt;center&gt; 1950 &lt;/center&gt;
&lt;img src="figures/haies_1K_1950.jpg" width="400px" /&gt;

]

.pull-right[

### &lt;center&gt; 2015 &lt;/center&gt;
&lt;img src="figures/haies_1K_2015.jpg" width="400px" /&gt;
]

---
&lt;center&gt;

&lt;img src="figures/comparison_1950-2020.jpg" width="600px" /&gt;

&lt;/center&gt;

---

## Correlation of variables at different scales (habitats vs. landscape)



&lt;center&gt;
&lt;img src="amphibians_reptiles_bocage_files/figure-html/unnamed-chunk-3-1.png" width="45%" /&gt;
&lt;/center&gt;
---

&lt;center&gt;

&lt;img src="figures/ggpairs_dens_hedges_multiscale.jpg" width="600px" /&gt;

&lt;/center&gt;

---

&lt;center&gt;

&lt;img src="figures/ggpairs_dens_forest_edges_multiscale.jpg" width="600px" /&gt;

&lt;/center&gt;

---

.pull-left[
#### Hedges
&lt;img src="figures/ggpairs_forest_edges.jpg" width="200px" /&gt;

#### Forest edges
&lt;img src="figures/ggpairs_forest_edges.jpg" width="200px" /&gt;
]

.pull-right[
#### Roads
&lt;img src="figures/ggpairs_roads.jpg" width="200px" /&gt;

#### Rivers
&lt;img src="figures/ggpairs_rivers.jpg" width="200px" /&gt;
]

---

.pull-left[
#### Forest
&lt;img src="figures/ggpairs_forest.jpg" width="200px" /&gt;

#### Housing
&lt;img src="figures/ggpairs_housing.jpg" width="200px" /&gt;
]

.pull-right[
#### Pastures
&lt;img src="figures/ggpairs_pastures.jpg" width="200px" /&gt;
]

---
class: inverse, center, middle
# Future models

---

## How to build scenarios? 

* Constant rate of decline?

* Different rate according to the locality (roughly north/south)?


* Different rate according to acquired information from current practices?




    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "github",
"highlightLines": true,
"slideNumberFormat": ""
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
